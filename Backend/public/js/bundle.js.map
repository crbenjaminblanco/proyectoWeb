{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./FrontEnd/UI.js","webpack:///./FrontEnd/app.js","webpack:///./FrontEnd/services/RecipeService.js","webpack:///./FrontEnd/styles/app.css","webpack:///./node_modules/timeago.js/lib/format.js","webpack:///./node_modules/timeago.js/lib/index.js","webpack:///./node_modules/timeago.js/lib/locales.js","webpack:///./node_modules/timeago.js/lib/realtime.js","webpack:///./node_modules/timeago.js/lib/utils/date.js","webpack:///./node_modules/timeago.js/lib/utils/dom.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;ACjFoD;AACpD,0BAA0B,+DAAa;;AAEH;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,iBAAiB;AAC9E;AACA;AACA;AACA,wDAAwD,aAAa;AACrE;AACA,sDAAsD,mBAAmB;AACzE;AACA,sDAAsD,oBAAoB;AAC1E,iFAAiF,WAAW;AAC5F;AACA;AACA;AACA;AACA,0BAA0B,yDAAM;AAChC;AACA;AACA,cAAc;AACd;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEe,iEAAE,E;;;;;;;;;;;;;;;AC5EjB,mBAAO,CAAC,mDAAkB;;AAEJ;;AAEtB;AACA;AACA,mBAAmB,2CAAE;AACrB;AACA,CAAC;;AAED;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;;AAEA,mBAAmB,2CAAE;AACrB;;AAEA,uBAAuB;;AAEvB,CAAC,E;;;;;;;;;;;;;;AClCD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA,uB;AACA,+CAA+C;AAC/C,8CAA8C;AAC9C;AACA;;AAEA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,wCAAwC,SAAS,GAAG,SAAS,IAAI;AACjE;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEe,4EAAa,EAAC;;;;;;;;;;;;AC7D7B,uC;;;;;;;;;;;;ACAa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,YAAY,mBAAO,CAAC,iEAAc;;AAElC,eAAe,mBAAO,CAAC,8DAAc;;AAErC;AACA;AACA,8CAA8C;;AAE9C;AACA;;AAEA,wB;;;;;;;;;;;;AClBa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEA,cAAc,mBAAO,CAAC,yDAAU;;AAEhC,gBAAgB,mBAAO,CAAC,6DAAY;;AAEpC,eAAe,mBAAO,CAAC,2DAAW;;AAElC;AACA;AACA;AACA;AACA;AACA,0B;;;;;;;;;;;;AC1Ca;;AAEb;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;;AAEA;AACA;AACA;;AAEA,8B;;;;;;;;;;;;AC1Da;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,WAAW,mBAAO,CAAC,+DAAa;;AAEhC,YAAY,mBAAO,CAAC,iEAAc;;AAElC,eAAe,mBAAO,CAAC,2DAAW;;AAElC;AACA;;AAEA;AACA;AACA;AACA,EAAE;;;AAGF;AACA;AACA,oCAAoC;;AAEpC,+CAA+C;;AAE/C;AACA;AACA;AACA,GAAG,oDAAoD;;AAEvD;AACA;AACA,EAAE;;;AAGF;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,EAAE;;;AAGF;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wB;;;;;;;;;;;;AC/Da;;AAEb;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,8CAA8C;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA,QAAQ,8CAA8C;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oC;;;;;;;;;;;;AC7Ga;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,wDAAwD;;AAExD,wCAAwC;AACxC;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,gC","file":"js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./FrontEnd/app.js\");\n","\r\nimport RecipeService from './services/RecipeService'\r\nconst recipeService = new RecipeService();\r\n\r\nimport { format } from 'timeago.js';\r\n\r\n/**\r\n * El objetivo de esta clase es interactuar con el navegador.\r\n */\r\nclass UI {\r\n    /**\r\n     * Metodo para renderizar las recetas en pantalla.\r\n     */\r\n    async renderRecipes() {\r\n        const recipes = await recipeService.getRecipe();\r\n        const recipesCardContainer = document.getElementById('recipes-cards'); // Contenedor donde se va a renderizar.\r\n        recipesCardContainer.innerHTML = ''; // Verifico que este limpio.\r\n        recipes.forEach(recipe => {\r\n            const div = document.createElement('div');\r\n            div.className = '';\r\n            div.innerHTML = `\r\n                <div class=\"card m-2\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-4\">\r\n                            <img src=\"http://localhost:3000${recipe.imagePath}\" alt=\"\" class=\"img-fluid\" />\r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                            <div class=\"card-block px-2\">\r\n                               <h3 class=\"card-title\">${recipe.title}</h3> \r\n                               <h5>Ingredients:</h5>\r\n                               <p class=\"card-text\">${recipe.ingredients}</p>\r\n                               <h5>Instructions:</h5>\r\n                               <p class=\"card-text\">${recipe.instructions}</p>\r\n                               <a href=\"#\" class=\"btn btn-primary delete\" _id=\"${recipe._id}\"><h3>ğŸ—‘</h3></a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-footer\">\r\n                        ${format(recipe.created_at)}\r\n                    </div>\r\n                </div>\r\n            `; // Que va a tener adentro.\r\n            recipesCardContainer.appendChild(div);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Metodo para agregar una nueva receta.\r\n     */\r\n    async addNewRecipe(recipe) {\r\n        await recipeService.postRecipe(recipe);\r\n        this.clearRecipeForm();\r\n        this.renderRecipes();\r\n    }\r\n\r\n    /**\r\n     * Metodo para limpiar el formulario y lo resetea.\r\n     */\r\n    clearRecipeForm() {\r\n        document.getElementById('recipe-form').reset();\r\n    }\r\n\r\n    /**\r\n     * Metodo para renderizar un msj.\r\n     */\r\n    renderMessage() {\r\n\r\n    }\r\n\r\n    /**\r\n     * Eliminar un elemento de la pantalla.\r\n     */\r\n    deleteRecipe() {\r\n\r\n    }\r\n}\r\n\r\nexport default UI;","\r\nrequire('./styles/app.css');\r\n\r\nimport UI from './UI';\r\n\r\n// Evento: Una vez el navegador haya pintado la interfaz (DOM haya sido cargado) me traigo los datos desde el backend.\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const ui = new UI();\r\n    ui.renderRecipes();\r\n});\r\n\r\n// Aqui se obtiene por el id del formulario todos los datos que ingresa el usuario a traves de los inputs del Form en el index.html.\r\ndocument.getElementById('recipe-form')\r\n    .addEventListener('submit', e => { // Funcion flecha.\r\n    const title = document.getElementById('title').value;\r\n    const ingredients = document.getElementById('ingredients').value;\r\n    const instructions = document.getElementById('instructions').value;\r\n    const image = document.getElementById('image').files;\r\n\r\n    console.log(title, ingredients, instructions, image);\r\n\r\n    // Los datos de la receta se quieren enviar por post, pero este metodo en RecipeService\r\n    // solo recibe un objeto por parametro, por lo tanto se crea un Formdata para poder enviarlo a partir \r\n    // de los datos recopilados por getElementById de arriba.\r\n    const formData = new FormData(); // Es un formulario virtual de JS.\r\n    formData.append('image', image[0]);\r\n    formData.append('title', title);\r\n    formData.append('ingredients', ingredients);\r\n    formData.append('instructions', instructions);\r\n\r\n    const ui = new UI();\r\n    ui.addNewRecipe(formData);\r\n\r\n    e.preventDefault(); // Cuando se envia el formulario ya no se reinicia.\r\n\r\n});","\r\n/**\r\n * Clase con metodos para reutilizar.\r\n */\r\nclass RecipeService {\r\n\r\n    /**\r\n     * Constructor tipico de una clase que se ejecuta\r\n     * cuando la clase se instancia.   \r\n     */\r\n    constructor() {\r\n        this.URI = 'http://localhost:3000/api/recipes'; // Direccion de donde esta mi API.\r\n    }\r\n\r\n    /**\r\n     * Este metodo hace una peticion get a localhost:3000/api/recipes\r\n     * para obtener datos.\r\n     * Esto puede tardar tiempo por lo que se hace el metodo async.\r\n     */\r\n    async getRecipe() { \r\n        const response = await fetch(this.URI); // Peticion get al backend que devuelve string.\r\n        const recipes = await response.json(); // Conversion de ese string a JSON.\r\n        return recipes;\r\n    }\r\n\r\n    /**\r\n     * Este metodo envia una peticion post al backend.\r\n     * Debe recibir los datos que se van a enviar al backend para que los guarde.\r\n     * @param {*} recipe \r\n     */\r\n    async postRecipe(recipe) {\r\n        // En este fetch coloco los header para decirle al backend que es lo que estoy enviando.\r\n        const response = await fetch(this.URI, {\r\n            method: 'POST',\r\n            body: recipe\r\n        });\r\n        const data = await response.json();\r\n\r\n        console.log(data);\r\n    }\r\n\r\n    /**\r\n     * Este metodo elimina la receta en el backend.\r\n     * Se le manda por parametro el id de la receta para que lo encuentre, igual\r\n     * que en el recipes.js de routes en el backend.\r\n     * Esto porque desde el frontend se debe enviar el id que se quiere eliminar.\r\n     * @param {*} recipeId \r\n     */\r\n    async deleteRecipe(recipeId) {\r\n        const response = await fetch(`${this.URI}/${recipeId}`, { // Esto lo envia al backend\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'DELETE'\r\n        });\r\n        const data = await response.json();\r\n\r\n        console.log(data);\r\n    }\r\n}\r\n\r\nexport default RecipeService;\r\n","// extracted by mini-css-extract-plugin","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.format = void 0;\n\nvar _date = require(\"./utils/date\");\n\nvar _locales = require(\"./locales.js\");\n\nvar format = function format(date, locale, nowDate) {\n  // diff seconds\n  var sec = (0, _date.diffSec)(date, nowDate); // format it with locale\n\n  return (0, _date.formatDiff)(sec, (0, _locales.getLocale)(locale));\n};\n\nexports.format = format;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"format\", {\n  enumerable: true,\n  get: function get() {\n    return _format.format;\n  }\n});\nObject.defineProperty(exports, \"render\", {\n  enumerable: true,\n  get: function get() {\n    return _realtime.render;\n  }\n});\nObject.defineProperty(exports, \"cancel\", {\n  enumerable: true,\n  get: function get() {\n    return _realtime.cancel;\n  }\n});\nObject.defineProperty(exports, \"register\", {\n  enumerable: true,\n  get: function get() {\n    return _locales.register;\n  }\n});\nexports.version = void 0;\n\nvar _format = require(\"./format\");\n\nvar _realtime = require(\"./realtime\");\n\nvar _locales = require(\"./locales\");\n\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\nvar version = \"4.0.0-beta.2\";\nexports.version = version;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLocale = exports.register = void 0;\n\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\nvar EN = 'second_minute_hour_day_week_month_year'.split('_');\nvar ZH = 'ç§’_åˆ†é’Ÿ_å°æ—¶_å¤©_å‘¨_ä¸ªæœˆ_å¹´'.split('_');\n\nvar zh_CN = function zh_CN(number, index) {\n  if (index === 0) return ['åˆšåˆš', 'ç‰‡åˆ»å'];\n  var unit = ZH[parseInt(index / 2)];\n  return [\"\".concat(number, \" \").concat(unit, \"\\u524D\"), \"\".concat(number, \" \").concat(unit, \"\\u540E\")];\n};\n\nvar en_US = function en_US(number, index) {\n  if (index === 0) return ['just now', 'right now'];\n  var unit = EN[parseInt(index / 2)];\n  if (number > 1) unit += 's';\n  return [\"\".concat(number, \" \").concat(unit, \" ago\"), \"in \".concat(number, \" \").concat(unit)];\n};\n/**\n * æ‰€æœ‰çš„è¯­è¨€\n * @type {{en: function(*, *), zh_CN: function(*, *)}}\n */\n\n\nvar Locales = {\n  en_US: en_US,\n  zh_CN: zh_CN\n};\n/**\n * æ³¨å†Œè¯­è¨€\n * @param locale\n * @param func\n */\n\nvar register = function register(locale, func) {\n  Locales[locale] = func;\n};\n/**\n * è·å–è¯­è¨€å‡½æ•°\n * @param locale\n * @returns {*}\n */\n\n\nexports.register = register;\n\nvar getLocale = function getLocale(locale) {\n  return Locales[locale] || en_US;\n};\n\nexports.getLocale = getLocale;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.render = exports.cancel = void 0;\n\nvar _dom = require(\"./utils/dom\");\n\nvar _date = require(\"./utils/date\");\n\nvar _locales = require(\"./locales\");\n\n// æ‰€æœ‰çš„ timer\nvar TimerPool = {};\n\nvar clear = function clear(tid) {\n  clearTimeout(tid);\n  delete TimerPool[tid];\n}; // å®šæ—¶è¿è¡Œ\n\n\nvar run = function run(node, date, localeFunc, nowDate) {\n  // å…ˆæ¸…ç†æ‰ä¹‹å‰çš„\n  clear((0, _dom.getTimerId)(node)); // get diff seconds\n\n  var diff = (0, _date.diffSec)(date, nowDate); // render\n\n  node.innerHTML = (0, _date.formatDiff)(diff, localeFunc);\n  var tid = setTimeout(function () {\n    run(node, date, localeFunc, nowDate);\n  }, (0, _date.nextInterval)(diff) * 1000, 0x7FFFFFFF); // there is no need to save node in object. Just save the key\n\n  TimerPool[tid] = 0;\n  (0, _dom.saveTimerId)(node, tid);\n}; // å–æ¶ˆä¸€ä¸ª node çš„å®æ—¶æ¸²æŸ“\n\n\nvar cancel = function cancel(node) {\n  if (node) clear((0, _dom.getTimerId)(node)); // get the timer of DOM node(native / jq).\n  else for (var tid in TimerPool) {\n      clear(tid);\n    }\n}; // å®æ—¶æ¸²æŸ“ä¸€ç³»åˆ—èŠ‚ç‚¹\n\n\nexports.cancel = cancel;\n\nvar render = function render(nodes, locale, nowDate) {\n  // by .length\n  if (nodes.length === undefined) nodes = [nodes];\n  var node;\n\n  for (var i = 0; i < nodes.length; i++) {\n    node = nodes[i];\n    var date = (0, _dom.getDateAttribute)(node);\n    var localeFunc = (0, _locales.getLocale)(locale);\n    run(node, date, localeFunc, nowDate);\n  }\n\n  return nodes;\n};\n\nexports.render = render;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nextInterval = exports.diffSec = exports.formatDiff = exports.toDate = exports.toInt = void 0;\n\n/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\nvar SEC_ARRAY = [60, 60, 24, 7, 365 / 7 / 12, 12];\n/**\n * change f into int, remove decimal. Just for code compression\n * @param f\n * @returns {number}\n */\n\nvar toInt = function toInt(f) {\n  return parseInt(f);\n};\n/**\n * format Date / string / timestamp to Date instance.\n * @param input\n * @returns {*}\n */\n\n\nexports.toInt = toInt;\n\nvar toDate = function toDate(input) {\n  if (input instanceof Date) return input;\n  if (!isNaN(input) || /^\\d+$/.test(input)) return new Date(toInt(input));\n  input = (input || '').trim().replace(/\\.\\d+/, '') // remove milliseconds\n  .replace(/-/, '/').replace(/-/, '/').replace(/(\\d)T(\\d)/, '$1 $2').replace(/Z/, ' UTC') // 2017-2-5T3:57:52Z -> 2017-2-5 3:57:52UTC\n  .replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/, ' $1$2'); // -04:00 -> -0400\n\n  return new Date(input);\n};\n/**\n * format the diff second to *** time ago, with setting locale\n * @param diff\n * @param localeFunc\n * @returns {string | void | *}\n */\n\n\nexports.toDate = toDate;\n\nvar formatDiff = function formatDiff(diff, localeFunc) {\n  // if locale is not exist, use defaultLocale.\n  // if defaultLocale is not exist, use build-in `en`.\n  // be sure of no error when locale is not exist.\n  var i = 0,\n      agoin = diff < 0 ? 1 : 0,\n      // timein or timeago\n  total_sec = diff = Math.abs(diff);\n\n  for (; diff >= SEC_ARRAY[i] && i < SEC_ARRAY.length; i++) {\n    diff /= SEC_ARRAY[i];\n  }\n\n  diff = toInt(diff);\n  i *= 2;\n  if (diff > (i === 0 ? 9 : 1)) i += 1;\n  return localeFunc(diff, i, total_sec)[agoin].replace('%s', diff);\n};\n/**\n * calculate the diff second between date to be formatted an now date.\n * @param date\n * @param nowDate\n * @returns {number}\n */\n\n\nexports.formatDiff = formatDiff;\n\nvar diffSec = function diffSec(date, nowDate) {\n  nowDate = nowDate ? toDate(nowDate) : new Date();\n  return (nowDate - toDate(date)) / 1000;\n};\n/**\n * nextInterval: calculate the next interval time.\n * - diff: the diff sec between now and date to be formatted.\n *\n * What's the meaning?\n * diff = 61 then return 59\n * diff = 3601 (an hour + 1 second), then return 3599\n * make the interval with high performance.\n **/\n\n\nexports.diffSec = diffSec;\n\nvar nextInterval = function nextInterval(diff) {\n  var rst = 1,\n      i = 0,\n      d = Math.abs(diff);\n\n  for (; diff >= SEC_ARRAY[i] && i < SEC_ARRAY.length; i++) {\n    diff /= SEC_ARRAY[i];\n    rst *= SEC_ARRAY[i];\n  }\n\n  d = d % rst;\n  d = d ? rst - d : rst;\n  return Math.ceil(d);\n};\n\nexports.nextInterval = nextInterval;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTimerId = exports.saveTimerId = exports.getDateAttribute = void 0;\nvar ATTR_TIMEAGO_TID = 'timeago-tid';\nvar ATTR_DATETIME = 'datetime';\n/**\n * get the node attribute, native DOM and jquery supported.\n * @param node\n * @param name\n * @returns {*}\n */\n\nvar getAttribute = function getAttribute(node, name) {\n  if (node.getAttribute) return node.getAttribute(name); // native dom\n\n  if (node.attr) return node.attr(name); // jquery dom\n};\n/**\n * get the datetime attribute, `data-timeagp` / `datetime` are supported.\n * @param node\n * @returns {*}\n */\n\n\nvar getDateAttribute = function getDateAttribute(node) {\n  return getAttribute(node, ATTR_DATETIME);\n};\n/**\n * set the node attribute, native DOM and jquery supported.\n * @param node\n * @param timerId\n * @returns {*}\n */\n\n\nexports.getDateAttribute = getDateAttribute;\n\nvar saveTimerId = function saveTimerId(node, timerId) {\n  if (node.setAttribute) return node.setAttribute(ATTR_TIMEAGO_TID, timerId);\n  if (node.attr) return node.attr(ATTR_TIMEAGO_TID, timerId);\n};\n\nexports.saveTimerId = saveTimerId;\n\nvar getTimerId = function getTimerId(node) {\n  return getAttribute(node, ATTR_TIMEAGO_TID);\n};\n\nexports.getTimerId = getTimerId;"],"sourceRoot":""}